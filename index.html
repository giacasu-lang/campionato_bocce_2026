 <!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campionato Bocce 2026</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h2 { margin-top: 40px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f0f0f0; }
        .top-link { font-size: 0.9em; margin-bottom: 20px; display: block; }
        #admin-section { border: 1px solid #ccc; padding: 10px; margin-top: 40px; }
    </style>
</head>
<body>
    <h1>Campionato Bocce 2026</h1>

    <div id="content"></div>

    <h2>Calendario</h2>
    <div id="calendar"></div>

    <a href="#top" class="top-link">Torna in alto</a>
    <p>Powered by Gianni Casu</p>

    <!-- Inizio area amministrazione -->
    <div id="admin-section" style="display:none;">
      <h3>Area Amministratore</h3>
      <label>Password: <input type="password" id="admin-pass"></label>
      <button onclick="checkPassword()">Accedi</button>
      <div id="admin-content" style="display:none;">
        <p>Qui puoi aggiornare i dati (solo tu vedrai questa sezione)</p>
        <!-- Qui potremo aggiungere i controlli per modificare JSON -->
      </div>
    </div>

    <script>
        // Funzione base per mostrare/nascondere area amministrazione
        const correctPassword = "honor70lite; // Cambia qui la tua password
        function checkPassword() {
            const pass = document.getElementById("admin-pass").value;
            if(pass === correctPassword){
                document.getElementById("admin-content").style.display = "block";
                alert("Accesso consentito");
            } else {
                alert("Password errata");
            }
        }

        // Funzioni per mostrare classifiche e calendario
        const dati = {
          "seconda":[{"nome":"Gianni Casu","punti":30,"giocate":0,"vinte":0,"perse":0}],
          "terza":[{"nome":"Gianni Casu","punti":35,"giocate":0,"vinte":0,"perse":0}],
          "juniores":[{"nome":"Gianni Casu","punti":35,"giocate":0,"vinte":0,"perse":0}],
          "femminile":[],
          "calendario":[
            {"data":"2026-01-29T23:00:00.000Z","casa":"BORORE","ospite":"Nuoro B","campo":1,"categoria":"Seconda Categoria","punteggio":"2026-10-11T22:00:00.000Z"},
            {"data":"2026-01-30T23:00:00.000Z","casa":"borore","ospite":"oristano","campo":2,"categoria":"Terza Categoria","punteggio":"2026-12-14T23:00:00.000Z"}
          ]
        };

        function creaTabellaCategoria(categoria, datiCategoria){
            const container = document.createElement("div");
            const h2 = document.createElement("h2");
            h2.textContent = categoria;
            container.appendChild(h2);

            if(datiCategoria.length === 0){
                const p = document.createElement("p");
                p.textContent = "Nessun dato disponibile";
                container.appendChild(p);
            } else {
                const table = document.createElement("table");
                const tr = document.createElement("tr");
                ["nome","punti","giocate","vinte","perse"].forEach(col => {
                    const th = document.createElement("th");
                    th.textContent = col;
                    tr.appendChild(th);
                });
                table.appendChild(tr);
                datiCategoria.forEach(r => {
                    const tr = document.createElement("tr");
                    ["nome","punti","giocate","vinte","perse"].forEach(col => {
                        const td = document.createElement("td");
                        td.textContent = r[col];
                        tr.appendChild(td);
                    });
                    table.appendChild(tr);
                });
                container.appendChild(table);
            }
            container.appendChild(document.createElement("a")).textContent="Torna in alto";
            document.getElementById("content").appendChild(container);
        }

        Object.keys(dati).forEach(cat => {
            if(cat !== "calendario"){
                creaTabellaCategoria(cat.charAt(0).toUpperCase() + cat.slice(1), dati[cat]);
            }
        });

        // Funzione calendario
        function creaCalendario(cal){
            const container = document.getElementById("calendar");
            const table = document.createElement("table");
            const tr = document.createElement("tr");
            ["data","casa","ospite","campo","categoria","punteggio"].forEach(col => {
                const th = document.createElement("th");
                th.textContent = col;
                tr.appendChild(th);
            });
            table.appendChild(tr);
            cal.forEach(r => {
                const tr = document.createElement("tr");
                ["data","casa","ospite","campo","categoria","punteggio"].forEach(col => {
                    const td = document.createElement("td");
                    td.textContent = r[col];
                    tr.appendChild(td);
                });
                table.appendChild(tr);
            });
            container.appendChild(table);
        }

        creaCalendario(dati.calendario);

    </script>
</body>
</html>
